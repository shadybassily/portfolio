import{r as m,R as xn}from"./react.ef76592b.js";import{a as Ti,j as Vn}from"./@react-spring.6db65d6f.js";import{n as te,p as v,d as _,s as dt,a as kt,b as xe,c as K,e as R,f as Nt,g as lt,v as Si,h as Ci}from"./style-value-types.134d561e.js";import{p as bn,c as Ai,l as Pn,e as wi,a as Li,b as Di,d as Ri,f as Mi,g as Tn,h as Ei,i as ki,j as Fi,k as Oi,m as _i,n as Ii,o as Bi,q as ji,r as Ui,v as Ni,s as ee,t as S,u as $t,w as $i}from"./popmotion.1f1eae32.js";import{i as Sn}from"./hey-listen.a7ce0d1d.js";import{s as F,c as z,g as zt,f as Ft}from"./framesync.794bfee9.js";import{s as zi}from"./@motionone.19799b60.js";const ne=m.exports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),St=m.exports.createContext({});function Gi(){return m.exports.useContext(St).visualElement}const Ct=m.exports.createContext(null),G=typeof document<"u",Gt=G?m.exports.useLayoutEffect:m.exports.useEffect,Cn=m.exports.createContext({strict:!1});function Hi(t,e,n,i){const s=Gi(),r=m.exports.useContext(Cn),o=m.exports.useContext(Ct),a=m.exports.useContext(ne).reducedMotion,u=m.exports.useRef();i=i||r.renderer,!u.current&&i&&(u.current=i(t,{visualState:e,parent:s,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const l=u.current;return Gt(()=>{l&&l.render()}),m.exports.useEffect(()=>{l&&l.animationState&&l.animationState.animateChanges()}),Gt(()=>()=>l&&l.notify("Unmount"),[]),l}function W(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wi(t,e,n){return m.exports.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):W(n)&&(n.current=i))},[e])}function ut(t){return typeof t=="string"||Array.isArray(t)}function At(t){return typeof t=="object"&&typeof t.start=="function"}const Yi=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function wt(t){return At(t.animate)||Yi.some(e=>ut(t[e]))}function An(t){return Boolean(wt(t)||t.variants)}function Xi(t,e){if(wt(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ut(n)?n:void 0,animate:ut(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ki(t){const{initial:e,animate:n}=Xi(t,m.exports.useContext(St));return m.exports.useMemo(()=>({initial:e,animate:n}),[Ve(e),Ve(n)])}function Ve(t){return Array.isArray(t)?t.join(" "):t}const O=t=>({isEnabled:e=>t.some(n=>!!e[n])}),ct={measureLayout:O(["layout","layoutId","drag"]),animation:O(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:O(["exit"]),drag:O(["drag","dragControls"]),focus:O(["whileFocus"]),hover:O(["whileHover","onHoverStart","onHoverEnd"]),tap:O(["whileTap","onTap","onTapStart","onTapCancel"]),pan:O(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:O(["whileInView","onViewportEnter","onViewportLeave"])};function Zi(t){for(const e in t)e==="projectionNodeConstructor"?ct.projectionNodeConstructor=t[e]:ct[e].Component=t[e]}function Lt(t){const e=m.exports.useRef(null);return e.current===null&&(e.current=t()),e.current}const it={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let qi=1;function Ji(){return Lt(()=>{if(it.hasEverUpdated)return qi++})}const wn=m.exports.createContext({});class Qi extends xn.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const Ln=m.exports.createContext({}),ts=Symbol.for("motionComponentSymbol");function es({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:i,useVisualState:s,Component:r}){t&&Zi(t);function o(u,l){const c={...m.exports.useContext(ne),...u,layoutId:ns(u)},{isStatic:f}=c;let h=null;const d=Ki(u),p=f?void 0:Ji(),g=s(u,f);if(!f&&G){d.visualElement=Hi(r,g,c,e);const y=m.exports.useContext(Cn).strict,C=m.exports.useContext(Ln);d.visualElement&&(h=d.visualElement.loadFeatures(c,y,t,p,n||ct.projectionNodeConstructor,C))}return Ti(Qi,{visualElement:d.visualElement,props:c,children:[h,Vn(St.Provider,{value:d,children:i(r,u,p,Wi(g,d.visualElement,l),g,f,d.visualElement)})]})}const a=m.exports.forwardRef(o);return a[ts]=r,a}function ns({layoutId:t}){const e=m.exports.useContext(wn).id;return e&&t!==void 0?e+"-"+t:t}function is(t){function e(i,s={}){return es(t(i,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const ss=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ie(t){return typeof t!="string"||t.includes("-")?!1:!!(ss.indexOf(t)>-1||/[A-Z]/.test(t))}const vt={};function os(t){Object.assign(vt,t)}const yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ht=new Set(yt);function Dn(t,{layout:e,layoutId:n}){return ht.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vt[t]||t==="opacity")}const M=t=>!!(t!=null&&t.getVelocity),rs={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},as=(t,e)=>yt.indexOf(t)-yt.indexOf(e);function ls({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},s,r){let o="";e.sort(as);for(const a of e)o+=`${rs[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(t,s?"":o):i&&s&&(o="none"),o}function Rn(t){return t.startsWith("--")}const us=(t,e)=>e&&typeof t=="number"?e.transform(t):t,be={...te,transform:Math.round},Mn={borderWidth:v,borderTopWidth:v,borderRightWidth:v,borderBottomWidth:v,borderLeftWidth:v,borderRadius:v,radius:v,borderTopLeftRadius:v,borderTopRightRadius:v,borderBottomRightRadius:v,borderBottomLeftRadius:v,width:v,maxWidth:v,height:v,maxHeight:v,size:v,top:v,right:v,bottom:v,left:v,padding:v,paddingTop:v,paddingRight:v,paddingBottom:v,paddingLeft:v,margin:v,marginTop:v,marginRight:v,marginBottom:v,marginLeft:v,rotate:_,rotateX:_,rotateY:_,rotateZ:_,scale:dt,scaleX:dt,scaleY:dt,scaleZ:dt,skew:_,skewX:_,skewY:_,distance:v,translateX:v,translateY:v,translateZ:v,x:v,y:v,z:v,perspective:v,transformPerspective:v,opacity:kt,originX:xe,originY:xe,originZ:v,zIndex:be,fillOpacity:kt,strokeOpacity:kt,numOctaves:be};function se(t,e,n,i){const{style:s,vars:r,transform:o,transformKeys:a,transformOrigin:u}=t;a.length=0;let l=!1,c=!1,f=!0;for(const h in e){const d=e[h];if(Rn(h)){r[h]=d;continue}const p=Mn[h],g=us(d,p);if(ht.has(h)){if(l=!0,o[h]=g,a.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,u[h]=g):s[h]=g}if(e.transform||(l||i?s.transform=ls(t,n,f,i):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:p=0}=u;s.transformOrigin=`${h} ${d} ${p}`}}const oe=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function En(t,e,n){for(const i in e)!M(e[i])&&!Dn(i,n)&&(t[i]=e[i])}function cs({transformTemplate:t},e,n){return m.exports.useMemo(()=>{const i=oe();return se(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function fs(t,e,n){const i=t.style||{},s={};return En(s,i,t),Object.assign(s,cs(t,e,n)),t.transformValues?t.transformValues(s):s}function hs(t,e,n){const i={},s=fs(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),i.style=s,i}const ds=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],ps=["whileTap","onTap","onTapStart","onTapCancel"],ms=["onPan","onPanStart","onPanSessionStart","onPanEnd"],gs=["whileInView","onViewportEnter","onViewportLeave","viewport"],vs=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...gs,...ps,...ds,...ms]);function xt(t){return vs.has(t)}let kn=t=>!xt(t);function ys(t){!t||(kn=e=>e.startsWith("on")?!xt(e):t(e))}try{ys(require("@emotion/is-prop-valid").default)}catch{}function xs(t,e,n){const i={};for(const s in t)(kn(s)||n===!0&&xt(s)||!e&&!xt(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function Pe(t,e,n){return typeof t=="string"?t:v.transform(e+n*t)}function Vs(t,e,n){const i=Pe(e,t.x,t.width),s=Pe(n,t.y,t.height);return`${i} ${s}`}const bs={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ps={offset:"strokeDashoffset",array:"strokeDasharray"};function Ts(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?bs:Ps;t[r.offset]=v.transform(-i);const o=v.transform(e),a=v.transform(n);t[r.array]=`${o} ${a}`}function re(t,{attrX:e,attrY:n,originX:i,originY:s,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...u},l,c){se(t,u,l,c),t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:d}=t;f.transform&&(d&&(h.transform=f.transform),delete f.transform),d&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=Vs(d,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&Ts(f,r,o,a,!1)}const Fn=()=>({...oe(),attrs:{}});function Ss(t,e){const n=m.exports.useMemo(()=>{const i=Fn();return re(i,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};En(i,t.style,t),n.style={...i,...n.style}}return n}function Cs(t=!1){return(n,i,s,r,{latestValues:o},a)=>{const l=(ie(n)?Ss:hs)(i,o,a),f={...xs(i,typeof n=="string",t),...l,ref:r};return s&&(f["data-projection-id"]=s),m.exports.createElement(n,f)}}const On=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function _n(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const r in n)t.style.setProperty(r,n[r])}const In=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Bn(t,e,n,i){_n(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(In.has(s)?s:On(s),e.attrs[s])}function ae(t){const{style:e}=t,n={};for(const i in e)(M(e[i])||Dn(i,t))&&(n[i]=e[i]);return n}function jn(t){const e=ae(t);for(const n in t)if(M(t[n])){const i=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[i]=t[n]}return e}function le(t,e,n,i={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),e}const ft=t=>Array.isArray(t),As=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),Un=t=>ft(t)?t[t.length-1]||0:t;function gt(t){const e=M(t)?t.get():t;return As(e)?e.toValue():e}function ws({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,s,r){const o={latestValues:Ls(i,s,r,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const Nn=t=>(e,n)=>{const i=m.exports.useContext(St),s=m.exports.useContext(Ct),r=()=>ws(t,e,i,s);return n?r():Lt(r)};function Ls(t,e,n,i){const s={},r=i(t);for(const h in r)s[h]=gt(r[h]);let{initial:o,animate:a}=t;const u=wt(t),l=An(t);e&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!At(f)&&(Array.isArray(f)?f:[f]).forEach(d=>{const p=le(t,d);if(!p)return;const{transitionEnd:g,transition:y,...C}=p;for(const V in C){let x=C[V];if(Array.isArray(x)){const P=c?x.length-1:0;x=x[P]}x!==null&&(s[V]=x)}for(const V in g)s[V]=g[V]}),s}const Ds={useVisualState:Nn({scrapeMotionValuesFromProps:jn,createRenderState:Fn,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}re(n,i,{enableHardwareAcceleration:!1},t.transformTemplate),Bn(e,n)}})},Rs={useVisualState:Nn({scrapeMotionValuesFromProps:ae,createRenderState:oe})};function Ms(t,{forwardMotionProps:e=!1},n,i,s){return{...ie(t)?Ds:Rs,preloadedFeatures:n,useRender:Cs(e),createVisualElement:i,projectionNodeConstructor:s,Component:t}}var b;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(b||(b={}));function Dt(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ht(t,e,n,i){m.exports.useEffect(()=>{const s=t.current;if(n&&s)return Dt(s,e,n,i)},[t,e,n,i])}function Es({whileFocus:t,visualElement:e}){const{animationState:n}=e,i=()=>{n&&n.setActive(b.Focus,!0)},s=()=>{n&&n.setActive(b.Focus,!1)};Ht(e,"focus",t?i:void 0),Ht(e,"blur",t?s:void 0)}function $n(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function zn(t){return!!t.touches}function ks(t){return e=>{const n=e instanceof MouseEvent;(!n||n&&e.button===0)&&t(e)}}const Fs={pageX:0,pageY:0};function Os(t,e="page"){const i=t.touches[0]||t.changedTouches[0]||Fs;return{x:i[e+"X"],y:i[e+"Y"]}}function _s(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function ue(t,e="page"){return{point:zn(t)?Os(t,e):_s(t,e)}}const Gn=(t,e=!1)=>{const n=i=>t(i,ue(i));return e?ks(n):n},Is=()=>G&&window.onpointerdown===null,Bs=()=>G&&window.ontouchstart===null,js=()=>G&&window.onmousedown===null,Us={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Ns={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Hn(t){return Is()?t:Bs()?Ns[t]:js()?Us[t]:t}function X(t,e,n,i){return Dt(t,Hn(e),Gn(n,e==="pointerdown"),i)}function Vt(t,e,n,i){return Ht(t,Hn(e),n&&Gn(n,e==="pointerdown"),i)}function Wn(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Te=Wn("dragHorizontal"),Se=Wn("dragVertical");function Yn(t){let e=!1;if(t==="y")e=Se();else if(t==="x")e=Te();else{const n=Te(),i=Se();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function Xn(){const t=Yn(!0);return t?(t(),!1):!0}function Ce(t,e,n){return(i,s)=>{!$n(i)||Xn()||(t.animationState&&t.animationState.setActive(b.Hover,e),n&&n(i,s))}}function $s({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:i}){Vt(i,"pointerenter",t||n?Ce(i,!0,t):void 0,{passive:!t}),Vt(i,"pointerleave",e||n?Ce(i,!1,e):void 0,{passive:!e})}const Kn=(t,e)=>e?t===e?!0:Kn(t,e.parentElement):!1;function Zn(t){return m.exports.useEffect(()=>()=>t(),[])}function zs({onTap:t,onTapStart:e,onTapCancel:n,whileTap:i,visualElement:s}){const r=t||e||n||i,o=m.exports.useRef(!1),a=m.exports.useRef(null),u={passive:!(e||t||n||d)};function l(){a.current&&a.current(),a.current=null}function c(){return l(),o.current=!1,s.animationState&&s.animationState.setActive(b.Tap,!1),!Xn()}function f(p,g){!c()||(Kn(s.current,p.target)?t&&t(p,g):n&&n(p,g))}function h(p,g){!c()||n&&n(p,g)}function d(p,g){l(),!o.current&&(o.current=!0,a.current=bn(X(window,"pointerup",f,u),X(window,"pointercancel",h,u)),s.animationState&&s.animationState.setActive(b.Tap,!0),e&&e(p,g))}Vt(s,"pointerdown",r?d:void 0,u),Zn(l)}const Gs="production",Hs=typeof process>"u"||process.env===void 0?Gs:"production",Ae=new Set;function Ws(t,e,n){t||Ae.has(e)||(console.warn(e),n&&console.warn(n),Ae.add(e))}const Wt=new WeakMap,Ot=new WeakMap,Ys=t=>{const e=Wt.get(t.target);e&&e(t)},Xs=t=>{t.forEach(Ys)};function Ks({root:t,...e}){const n=t||document;Ot.has(n)||Ot.set(n,{});const i=Ot.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Xs,{root:t,...e})),i[s]}function Zs(t,e,n){const i=Ks(e);return Wt.set(t,n),i.observe(t),()=>{Wt.delete(t),i.unobserve(t)}}function qs({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:i,viewport:s={}}){const r=m.exports.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||i);s.once&&r.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?to:Qs)(o,r.current,t,s)}const Js={some:0,all:1};function Qs(t,e,n,{root:i,margin:s,amount:r="some",once:o}){m.exports.useEffect(()=>{if(!t||!n.current)return;const a={root:i==null?void 0:i.current,rootMargin:s,threshold:typeof r=="number"?r:Js[r]},u=l=>{const{isIntersecting:c}=l;if(e.isInView===c||(e.isInView=c,o&&!c&&e.hasEnteredView))return;c&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(b.InView,c);const f=n.getProps(),h=c?f.onViewportEnter:f.onViewportLeave;h&&h(l)};return Zs(n.current,a,u)},[t,i,s,r])}function to(t,e,n,{fallback:i=!0}){m.exports.useEffect(()=>{!t||!i||(Hs!=="production"&&Ws(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:s}=n.getProps();s&&s(null),n.animationState&&n.animationState.setActive(b.InView,!0)}))},[t])}const B=t=>e=>(t(e),null),eo={inView:B(qs),tap:B(zs),focus:B(Es),hover:B($s)};function qn(){const t=m.exports.useContext(Ct);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=m.exports.useId();return m.exports.useEffect(()=>i(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}function Jn(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const bt=t=>t*1e3,no={linear:Pn,easeIn:wi,easeInOut:Li,easeOut:Di,circIn:Ri,circInOut:Mi,circOut:Tn,backIn:Ei,backInOut:ki,backOut:Fi,anticipate:Oi,bounceIn:_i,bounceInOut:Ii,bounceOut:Bi},we=t=>{if(Array.isArray(t)){Sn(t.length===4);const[e,n,i,s]=t;return Ai(e,n,i,s)}else if(typeof t=="string")return no[t];return t},io=t=>Array.isArray(t)&&typeof t[0]!="number",Le=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&K.test(e)&&!e.startsWith("url(")),U=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),pt=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_t=()=>({type:"keyframes",ease:"linear",duration:.3}),so=t=>({type:"keyframes",duration:.8,values:t}),De={x:U,y:U,z:U,rotate:U,rotateX:U,rotateY:U,rotateZ:U,scaleX:pt,scaleY:pt,scale:pt,opacity:_t,backgroundColor:_t,color:_t,default:pt},oo=(t,e)=>{let n;return ft(e)?n=so:n=De[t]||De.default,{to:e,...n(e)}},ro={...Mn,color:R,backgroundColor:R,outlineColor:R,fill:R,stroke:R,borderColor:R,borderTopColor:R,borderRightColor:R,borderBottomColor:R,borderLeftColor:R,filter:Nt,WebkitFilter:Nt},ce=t=>ro[t];function fe(t,e){var n;let i=ce(t);return i!==Nt&&(i=K),(n=i.getAnimatableNone)===null||n===void 0?void 0:n.call(i,e)}const ao={current:!1};function Qn(t,e){const n=performance.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(z.read(i),t(r-e))};return F.read(i,!0),()=>z.read(i)}function lo({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:u,...l}){return!!Object.keys(l).length}function uo({ease:t,times:e,yoyo:n,flip:i,loop:s,...r}){const o={...r};return e&&(o.offset=e),r.duration&&(o.duration=bt(r.duration)),r.repeatDelay&&(o.repeatDelay=bt(r.repeatDelay)),t&&(o.ease=io(t)?t.map(we):we(t)),r.type==="tween"&&(o.type="keyframes"),(n||s||i)&&(n?o.repeatType="reverse":s?o.repeatType="loop":i&&(o.repeatType="mirror"),o.repeat=s||n||i||r.repeat),r.type!=="spring"&&(o.type="keyframes"),o}function co(t,e){var n,i;return(i=(n=(he(t,e)||{}).delay)!==null&&n!==void 0?n:t.delay)!==null&&i!==void 0?i:0}function fo(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function ho(t,e,n){return Array.isArray(e.to)&&t.duration===void 0&&(t.duration=.8),fo(e),lo(t)||(t={...t,...oo(n,e.to)}),{...e,...uo(t)}}function po(t,e,n,i,s){const r=he(i,t)||{};let o=r.from!==void 0?r.from:e.get();const a=Le(t,n);o==="none"&&a&&typeof n=="string"?o=fe(t,n):Re(o)&&typeof n=="string"?o=Me(n):!Array.isArray(n)&&Re(n)&&typeof o=="string"&&(n=Me(o));const u=Le(t,o);function l(){const f={from:o,to:n,velocity:e.getVelocity(),onComplete:s,onUpdate:h=>e.set(h)};return r.type==="inertia"||r.type==="decay"?ji({...f,...r}):Ui({...ho(r,f,t),onUpdate:h=>{f.onUpdate(h),r.onUpdate&&r.onUpdate(h)},onComplete:()=>{f.onComplete(),r.onComplete&&r.onComplete()}})}function c(){const f=Un(n);return e.set(f),s(),r.onUpdate&&r.onUpdate(f),r.onComplete&&r.onComplete(),{stop:()=>{}}}return!u||!a||r.type===!1?c:l}function Re(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function Me(t){return typeof t=="number"?0:fe("",t)}function he(t,e){return t[e]||t.default||t}function de(t,e,n,i={}){return ao.current&&(i={type:!1}),e.start(s=>{let r;const o=po(t,e,n,i,s),a=co(i,t),u=()=>r=o();let l;return a?l=Qn(u,bt(a)):u(),()=>{l&&l(),r&&r.stop()}})}const mo=t=>/^\-?\d*\.?\d+$/.test(t),go=t=>/^0[^.\s]+$/.test(t);function pe(t,e){t.indexOf(e)===-1&&t.push(e)}function me(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class st{constructor(){this.subscriptions=[]}add(e){return pe(this.subscriptions,e),()=>me(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(!!s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vo=t=>!isNaN(parseFloat(t));class yo{constructor(e){this.version="7.6.5",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new st,this.velocityUpdateSubscribers=new st,this.renderSubscribers=new st,this.canTrackVelocity=!1,this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:r}=zt();this.lastUpdated!==r&&(this.timeDelta=s,this.lastUpdated=r,F.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),i&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>F.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=vo(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ni(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=e(n)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function k(t){return new yo(t)}const ti=t=>e=>e.test(t),xo={test:t=>t==="auto",parse:t=>t},ei=[te,v,lt,_,Si,Ci,xo],et=t=>ei.find(ti(t)),Vo=[...ei,R,K],bo=t=>Vo.find(ti(t));function Po(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function To(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Rt(t,e,n){const i=t.getProps();return le(i,e,n!==void 0?n:i.custom,Po(t),To(t))}function So(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,k(n))}function Co(t,e){const n=Rt(t,e);let{transitionEnd:i={},transition:s={},...r}=n?t.makeTargetAnimatable(n,!1):{};r={...r,...i};for(const o in r){const a=Un(r[o]);So(t,o,a)}}function Ao(t,e,n){var i,s;const r=Object.keys(e).filter(a=>!t.hasValue(a)),o=r.length;if(!!o)for(let a=0;a<o;a++){const u=r[a],l=e[u];let c=null;Array.isArray(l)&&(c=l[0]),c===null&&(c=(s=(i=n[u])!==null&&i!==void 0?i:t.readValue(u))!==null&&s!==void 0?s:e[u]),c!=null&&(typeof c=="string"&&(mo(c)||go(c))?c=parseFloat(c):!bo(c)&&K.test(l)&&(c=fe(u,l)),t.addValue(u,k(c)),n[u]===void 0&&(n[u]=c),c!==null&&t.setBaseTarget(u,c))}}function wo(t,e){return e?(e[t]||e.default||e).from:void 0}function Lo(t,e,n){var i;const s={};for(const r in t){const o=wo(r,e);s[r]=o!==void 0?o:(i=n.getValue(r))===null||i===void 0?void 0:i.get()}return s}function Pt(t){return Boolean(M(t)&&t.add)}function Do(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Yt(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=Yt(t,e,n);else{const s=typeof e=="function"?Rt(t,e,n.custom):e;i=ni(t,s,n)}return i.then(()=>t.notify("AnimationComplete",e))}function Yt(t,e,n={}){var i;const s=Rt(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>ni(t,s,n):()=>Promise.resolve(),a=!((i=t.variantChildren)===null||i===void 0)&&i.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=r;return Ro(t,e,c+l,f,h,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[l,c]=u==="beforeChildren"?[o,a]:[a,o];return l().then(c)}else return Promise.all([o(),a(n.delay)])}function ni(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(o=i);const c=[],f=s&&((r=t.animationState)===null||r===void 0?void 0:r.getState()[s]);for(const h in u){const d=t.getValue(h),p=u[h];if(!d||p===void 0||f&&Eo(f,h))continue;let g={delay:n,...o};t.shouldReduceMotion&&ht.has(h)&&(g={...g,type:!1,delay:0});let y=de(h,d,p,g);Pt(l)&&(l.add(h),y=y.then(()=>l.remove(h))),c.push(y)}return Promise.all(c).then(()=>{a&&Co(t,a)})}function Ro(t,e,n=0,i=0,s=1,r){const o=[],a=(t.variantChildren.size-1)*i,u=s===1?(l=0)=>l*i:(l=0)=>a-l*i;return Array.from(t.variantChildren).sort(Mo).forEach((l,c)=>{o.push(Yt(l,e,{...r,delay:n+u(c)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(o)}function Mo(t,e){return t.sortNodePosition(e)}function Eo({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}const ge=[b.Animate,b.InView,b.Focus,b.Hover,b.Tap,b.Drag,b.Exit],ko=[...ge].reverse(),Fo=ge.length;function Oo(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Do(t,n,i)))}function _o(t){let e=Oo(t);const n=Bo();let i=!0;const s=(u,l)=>{const c=Rt(t,l);if(c){const{transition:f,transitionEnd:h,...d}=c;u={...u,...d,...h}}return u};function r(u){e=u(t)}function o(u,l){var c;const f=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let g={},y=1/0;for(let V=0;V<Fo;V++){const x=ko[V],P=n[x],A=(c=f[x])!==null&&c!==void 0?c:h[x],Z=ut(A),q=x===l?P.isActive:null;q===!1&&(y=V);let H=A===h[x]&&A!==f[x]&&Z;if(H&&i&&t.manuallyAnimateOnMount&&(H=!1),P.protectedKeys={...g},!P.isActive&&q===null||!A&&!P.prevProp||At(A)||typeof A=="boolean")continue;const J=Io(P.prevProp,A);let j=J||x===l&&P.isActive&&!H&&Z||V>y&&Z;const ve=Array.isArray(A)?A:[A];let Q=ve.reduce(s,{});q===!1&&(Q={});const{prevResolvedValues:ye={}}=P,Pi={...ye,...Q},Mt=w=>{j=!0,p.delete(w),P.needsAnimating[w]=!0};for(const w in Pi){const tt=Q[w],Et=ye[w];g.hasOwnProperty(w)||(tt!==Et?ft(tt)&&ft(Et)?!Jn(tt,Et)||J?Mt(w):P.protectedKeys[w]=!0:tt!==void 0?Mt(w):p.add(w):tt!==void 0&&p.has(w)?Mt(w):P.protectedKeys[w]=!0)}P.prevProp=A,P.prevResolvedValues=Q,P.isActive&&(g={...g,...Q}),i&&t.blockInitialAnimation&&(j=!1),j&&!H&&d.push(...ve.map(w=>({animation:w,options:{type:x,...u}})))}if(p.size){const V={};p.forEach(x=>{const P=t.getBaseTarget(x);P!==void 0&&(V[x]=P)}),d.push({animation:V})}let C=Boolean(d.length);return i&&f.initial===!1&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(d):Promise.resolve()}function a(u,l,c){var f;if(n[u].isActive===l)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(u,l)}),n[u].isActive=l;const h=o(c,u);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n}}function Io(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Jn(e,t):!1}function N(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bo(){return{[b.Animate]:N(!0),[b.InView]:N(),[b.Hover]:N(),[b.Tap]:N(),[b.Drag]:N(),[b.Focus]:N(),[b.Exit]:N()}}const jo={animation:B(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=_o(t)),At(e)&&m.exports.useEffect(()=>e.subscribe(t),[e])}),exit:B(t=>{const{custom:e,visualElement:n}=t,[i,s]=qn(),r=m.exports.useContext(Ct);m.exports.useEffect(()=>{n.isPresent=i;const o=n.animationState&&n.animationState.setActive(b.Exit,!i,{custom:r&&r.custom||e});o&&!i&&o.then(s)},[i])})};class ii{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=Bt(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=ee(l.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:h}=l,{timestamp:d}=zt();this.history.push({...h,timestamp:d});const{onStart:p,onMove:g}=this.handlers;c||(p&&p(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,l)},this.handlePointerMove=(l,c)=>{if(this.lastMoveEvent=l,this.lastMoveEventInfo=It(c,this.transformPagePoint),$n(l)&&l.buttons===0){this.handlePointerUp(l,c);return}F.update(this.updatePoint,!0)},this.handlePointerUp=(l,c)=>{this.end();const{onEnd:f,onSessionEnd:h}=this.handlers,d=Bt(It(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(l,d),h&&h(l,d)},zn(e)&&e.touches.length>1)return;this.handlers=n,this.transformPagePoint=i;const s=ue(e),r=It(s,this.transformPagePoint),{point:o}=r,{timestamp:a}=zt();this.history=[{...o,timestamp:a}];const{onSessionStart:u}=n;u&&u(e,Bt(r,this.history)),this.removeListeners=bn(X(window,"pointermove",this.handlePointerMove),X(window,"pointerup",this.handlePointerUp),X(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),z.update(this.updatePoint)}}function It(t,e){return e?{point:e(t.point)}:t}function Ee(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bt({point:t},e){return{point:t,delta:Ee(t,si(e)),offset:Ee(t,Uo(e)),velocity:No(e,.1)}}function Uo(t){return t[0]}function si(t){return t[t.length-1]}function No(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=si(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>bt(e)));)n--;if(!i)return{x:0,y:0};const r=(s.timestamp-i.timestamp)/1e3;if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function L(t){return t.max-t.min}function ke(t,e=0,n=.01){return ee(t,e)<n}function Fe(t,e,n,i=.5){t.origin=i,t.originPoint=S(e.min,e.max,t.origin),t.scale=L(n)/L(e),(ke(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=S(n.min,n.max,t.origin)-t.originPoint,(ke(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ot(t,e,n,i){Fe(t.x,e.x,n.x,i==null?void 0:i.originX),Fe(t.y,e.y,n.y,i==null?void 0:i.originY)}function Oe(t,e,n){t.min=n.min+e.min,t.max=t.min+L(e)}function $o(t,e,n){Oe(t.x,e.x,n.x),Oe(t.y,e.y,n.y)}function _e(t,e,n){t.min=e.min-n.min,t.max=t.min+L(e)}function rt(t,e,n){_e(t.x,e.x,n.x),_e(t.y,e.y,n.y)}function zo(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?S(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?S(n,t,i.max):Math.min(t,n)),t}function Ie(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Go(t,{top:e,left:n,bottom:i,right:s}){return{x:Ie(t.x,n,s),y:Ie(t.y,e,i)}}function Be(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Ho(t,e){return{x:Be(t.x,e.x),y:Be(t.y,e.y)}}function Wo(t,e){let n=.5;const i=L(t),s=L(e);return s>i?n=$t(e.min,e.max-i,t.min):i>s&&(n=$t(t.min,t.max-s,e.min)),$i(0,1,n)}function Yo(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xt=.35;function Xo(t=Xt){return t===!1?t=0:t===!0&&(t=Xt),{x:je(t,"left","right"),y:je(t,"top","bottom")}}function je(t,e,n){return{min:Ue(t,e),max:Ue(t,n)}}function Ue(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}const Ne=()=>({translate:0,scale:1,origin:0,originPoint:0}),at=()=>({x:Ne(),y:Ne()}),$e=()=>({min:0,max:0}),T=()=>({x:$e(),y:$e()});function E(t){return[t("x"),t("y")]}function oi({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Ko({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Zo(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function jt(t){return t===void 0||t===1}function Kt({scale:t,scaleX:e,scaleY:n}){return!jt(t)||!jt(e)||!jt(n)}function $(t){return Kt(t)||ri(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ri(t){return ze(t.x)||ze(t.y)}function ze(t){return t&&t!=="0%"}function Tt(t,e,n){const i=t-n,s=e*i;return n+s}function Ge(t,e,n,i,s){return s!==void 0&&(t=Tt(t,s,i)),Tt(t,n,i)+e}function Zt(t,e=0,n=1,i,s){t.min=Ge(t.min,e,n,i,s),t.max=Ge(t.max,e,n,i,s)}function ai(t,{x:e,y:n}){Zt(t.x,e.translate,e.scale,e.originPoint),Zt(t.y,n.translate,n.scale,n.originPoint)}function qo(t,e,n,i=!1){var s,r;const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let l=0;l<o;l++)a=n[l],u=a.projectionDelta,((r=(s=a.instance)===null||s===void 0?void 0:s.style)===null||r===void 0?void 0:r.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Y(t,{x:-a.scroll.x,y:-a.scroll.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ai(t,u)),i&&$(a.latestValues)&&Y(t,a.latestValues))}function I(t,e){t.min=t.min+e,t.max=t.max+e}function He(t,e,[n,i,s]){const r=e[s]!==void 0?e[s]:.5,o=S(t.min,t.max,r);Zt(t,e[n],e[i],o,e.scale)}const Jo=["x","scaleX","originX"],Qo=["y","scaleY","originY"];function Y(t,e){He(t.x,e,Jo),He(t.y,e,Qo)}function li(t,e){return oi(Zo(t.getBoundingClientRect(),e))}function tr(t,e,n){const i=li(t,n),{scroll:s}=e;return s&&(I(i.x,s.x),I(i.y,s.y)),i}const er=new WeakMap;class nr{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=T(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const i=a=>{this.stopAnimation(),n&&this.snapToCursor(ue(a,"page").point)},s=(a,u)=>{var l;const{drag:c,dragPropagation:f,onDragStart:h}=this.getProps();c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Yn(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),E(d=>{var p,g;let y=this.getAxisMotionValue(d).get()||0;if(lt.test(y)){const C=(g=(p=this.visualElement.projection)===null||p===void 0?void 0:p.layout)===null||g===void 0?void 0:g.actual[d];C&&(y=L(C)*(parseFloat(y)/100))}this.originPoint[d]=y}),h==null||h(a,u),(l=this.visualElement.animationState)===null||l===void 0||l.setActive(b.Drag,!0))},r=(a,u)=>{const{dragPropagation:l,dragDirectionLock:c,onDirectionLock:f,onDrag:h}=this.getProps();if(!l&&!this.openGlobalLock)return;const{offset:d}=u;if(c&&this.currentDirection===null){this.currentDirection=ir(d),this.currentDirection!==null&&(f==null||f(this.currentDirection));return}this.updateAxis("x",u.point,d),this.updateAxis("y",u.point,d),this.visualElement.render(),h==null||h(a,u)},o=(a,u)=>this.stop(a,u);this.panSession=new ii(e,{onSessionStart:i,onStart:s,onMove:r,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r==null||r(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(b.Drag,!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!mt(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=zo(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},s=this.constraints;e&&W(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Go(i.actual,e):this.constraints=!1,this.elastic=Xo(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&E(r=>{this.getAxisMotionValue(r)&&(this.constraints[r]=Yo(i.actual[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!W(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=tr(i,s.root,this.visualElement.getTransformPagePoint());let o=Ho(s.layout.actual,r);if(n){const a=n(Ko(o));this.hasMutatedConstraints=!!a,a&&(o=oi(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=E(c=>{var f;if(!mt(c,n,this.currentDirection))return;let h=(f=u==null?void 0:u[c])!==null&&f!==void 0?f:{};o&&(h={min:0,max:0});const d=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return de(e,i,0,n)}stopAnimation(){E(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n,i;const s="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[s];return r||this.visualElement.getValue(e,(i=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:0)}snapToCursor(e){E(n=>{const{drag:i}=this.getProps();if(!mt(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.actual[n];r.set(e[n]-S(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!W(i)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};E(a=>{const u=this.getAxisMotionValue(a);if(u){const l=u.get();r[a]=Wo({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout(),this.resolveConstraints(),E(a=>{if(!mt(a,n,null))return;const u=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];u.set(S(l,c,r[a]))})}addListeners(){var e;if(!this.visualElement.current)return;er.set(this.visualElement,this);const n=this.visualElement.current,i=X(n,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();W(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&((e=r.root)===null||e===void 0||e.updateScroll(),r.updateLayout()),s();const a=Dt(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(E(f=>{const h=this.getAxisMotionValue(f);!h||(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{a(),i(),o(),u==null||u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Xt,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function mt(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ir(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function sr(t){const{dragControls:e,visualElement:n}=t,i=Lt(()=>new nr(n));m.exports.useEffect(()=>e&&e.subscribe(i),[i,e]),m.exports.useEffect(()=>i.addListeners(),[i])}function or({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:i,visualElement:s}){const r=t||e||n||i,o=m.exports.useRef(null),{transformPagePoint:a}=m.exports.useContext(ne),u={onSessionStart:i,onStart:e,onMove:t,onEnd:(c,f)=>{o.current=null,n&&n(c,f)}};m.exports.useEffect(()=>{o.current!==null&&o.current.updateHandlers(u)});function l(c){o.current=new ii(c,u,{transformPagePoint:a})}Vt(s,"pointerdown",r&&l),Zn(()=>o.current&&o.current.end())}const rr={pan:B(or),drag:B(sr)};function qt(t){return typeof t=="string"&&t.startsWith("var(--")}const ui=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ar(t){const e=ui.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function Jt(t,e,n=1){const[i,s]=ar(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);return r?r.trim():qt(s)?Jt(s,e,n+1):s}function lr(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const r=s.get();if(!qt(r))return;const o=Jt(r,i);o&&s.set(o)});for(const s in e){const r=e[s];if(!qt(r))continue;const o=Jt(r,i);!o||(e[s]=o,n&&n[s]===void 0&&(n[s]=r))}return{target:e,transitionEnd:n}}const ur=new Set(["width","height","top","left","right","bottom","x","y"]),ci=t=>ur.has(t),cr=t=>Object.keys(t).some(ci),fi=(t,e)=>{t.set(e,!1),t.set(e)},We=t=>t===te||t===v;var Ye;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(Ye||(Ye={}));const Xe=(t,e)=>parseFloat(t.split(", ")[e]),Ke=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return Xe(s[1],e);{const r=i.match(/^matrix\((.+)\)$/);return r?Xe(r[1],t):0}},fr=new Set(["x","y","z"]),hr=yt.filter(t=>!fr.has(t));function dr(t){const e=[];return hr.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ze={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ke(4,13),y:Ke(5,14)},pr=(t,e,n)=>{const i=e.measureViewportBox(),s=e.current,r=getComputedStyle(s),{display:o}=r,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(l=>{a[l]=Ze[l](i,r)}),e.render();const u=e.measureViewportBox();return n.forEach(l=>{const c=e.getValue(l);fi(c,a[l]),t[l]=Ze[l](u,r)}),t},mr=(t,e,n={},i={})=>{e={...e},i={...i};const s=Object.keys(e).filter(ci);let r=[],o=!1;const a=[];if(s.forEach(u=>{const l=t.getValue(u);if(!t.hasValue(u))return;let c=n[u],f=et(c);const h=e[u];let d;if(ft(h)){const p=h.length,g=h[0]===null?1:0;c=h[g],f=et(c);for(let y=g;y<p;y++)d?Sn(et(h[y])===d):d=et(h[y])}else d=et(h);if(f!==d)if(We(f)&&We(d)){const p=l.get();typeof p=="string"&&l.set(parseFloat(p)),typeof h=="string"?e[u]=parseFloat(h):Array.isArray(h)&&d===v&&(e[u]=h.map(parseFloat))}else(f==null?void 0:f.transform)&&(d==null?void 0:d.transform)&&(c===0||h===0)?c===0?l.set(d.transform(c)):e[u]=f.transform(h):(o||(r=dr(t),o=!0),a.push(u),i[u]=i[u]!==void 0?i[u]:e[u],fi(l,h))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,l=pr(e,t,a);return r.length&&r.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),G&&u!==null&&window.scrollTo({top:u}),{target:l,transitionEnd:i}}else return{target:e,transitionEnd:i}};function gr(t,e,n,i){return cr(e)?mr(t,e,n,i):{target:e,transitionEnd:i}}const vr=(t,e,n,i)=>{const s=lr(t,e,i);return e=s.target,i=s.transitionEnd,gr(t,e,n,i)},Qt={current:null},hi={current:!1};function yr(){if(hi.current=!0,!!G)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qt.current=t.matches;t.addListener(e),e()}else Qt.current=!1}function xr(t,e,n){const{willChange:i}=e;for(const s in e){const r=e[s],o=n[s];if(M(r))t.addValue(s,r),Pt(i)&&i.add(s);else if(M(o))t.addValue(s,k(r)),Pt(i)&&i.remove(s);else if(o!==r)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,k(a!==void 0?a:r))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const di=Object.keys(ct),Vr=di.length,qe=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class br{constructor({parent:e,props:n,reducedMotionConfig:i,visualState:s},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>F.render(this.render,!1,!0);const{latestValues:o,renderState:a}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=r,this.isControllingVariants=wt(n),this.isVariantNode=An(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...l}=this.scrapeMotionValuesFromProps(n);for(const c in l){const f=l[c];o[c]!==void 0&&M(f)&&(f.set(o[c],!1),Pt(u)&&u.add(c))}if(n.values)for(const c in n.values){const f=n.values[c];o[c]!==void 0&&M(f)&&f.set(o[c])}}scrapeMotionValuesFromProps(e){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),hi.current||yr(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qt.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,i;(e=this.projection)===null||e===void 0||e.unmount(),z.update(this.notifyUpdate),z.render(this.render),this.valueSubscriptions.forEach(s=>s()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(i=this.parent)===null||i===void 0||i.children.delete(this);for(const s in this.events)this.events[s].clear();this.current=null}bindToMotionValue(e,n){const i=n.onChange(r=>{this.latestValues[e]=r,this.props.onUpdate&&F.update(this.notifyUpdate,!1,!0)}),s=n.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,n,i,s,r,o){const a=[];for(let u=0;u<Vr;u++){const l=di[u],{isEnabled:c,Component:f}=ct[l];c(e)&&f&&a.push(m.exports.createElement(f,{key:l,...e,visualElement:this}))}if(!this.projection&&r){this.projection=new r(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:l,drag:c,dragConstraints:f,layoutScroll:h}=e;this.projection.setOptions({layoutId:u,layout:l,alwaysMeasureLayout:Boolean(c)||f&&W(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,layoutScroll:h})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):T()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let n=0;n<qe.length;n++){const i=qe[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xr(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,i;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const r=((i=this.parent)===null||i===void 0?void 0:i.getVariantContext())||{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<Pr;r++){const o=pi[r],a=this.props[o];(ut(a)||a===!1)&&(s[o]=a)}return s}addVariantChild(e){var n;const i=this.getClosestVariantNode();if(i)return(n=i.variantChildren)===null||n===void 0||n.add(e),()=>i.variantChildren.delete(e)}addValue(e,n){this.hasValue(e)&&this.removeValue(e),this.values.set(e,n),this.latestValues[e]=n.get(),this.bindToMotionValue(e,n)}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=k(n),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(n=le(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!M(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new st),this.events[e].add(n)}notify(e,...n){var i;(i=this.events[e])===null||i===void 0||i.notify(...n)}}const pi=["initial",...ge],Pr=pi.length;class mi extends br{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var i;return(i=e.style)===null||i===void 0?void 0:i[n]}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:s},r){let o=Lo(i,e||{},this);if(s&&(n&&(n=s(n)),i&&(i=s(i)),o&&(o=s(o))),r){Ao(this,i,o);const a=vr(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function Tr(t){return window.getComputedStyle(t)}class Sr extends mi{readValueFromInstance(e,n){if(ht.has(n)){const i=ce(n);return i&&i.default||0}else{const i=Tr(e),s=(Rn(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return li(e,n)}build(e,n,i,s){se(e,n,i,s.transformTemplate)}scrapeMotionValuesFromProps(e){return ae(e)}renderInstance(e,n,i,s){_n(e,n,i,s)}}class Cr extends mi{getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var i;return ht.has(n)?((i=ce(n))===null||i===void 0?void 0:i.default)||0:(n=In.has(n)?n:On(n),e.getAttribute(n))}measureInstanceViewportBox(){return T()}scrapeMotionValuesFromProps(e){return jn(e)}build(e,n,i,s){re(e,n,i,s.transformTemplate)}renderInstance(e,n,i,s){Bn(e,n,i,s)}}const Ar=(t,e)=>ie(t)?new Cr(e,{enableHardwareAcceleration:!1}):new Sr(e,{enableHardwareAcceleration:!0});function Je(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(v.test(t))t=parseFloat(t);else return t;const n=Je(t,e.target.x),i=Je(t,e.target.y);return`${n}% ${i}%`}},Qe="_$css",wr={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=t.includes("var("),r=[];s&&(t=t.replace(ui,d=>(r.push(d),Qe)));const o=K.parse(t);if(o.length>5)return i;const a=K.createTransformer(t),u=typeof o[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;o[0+u]/=l,o[1+u]/=c;const f=S(l,c,.5);typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f);let h=a(o);if(s){let d=0;h=h.replace(Qe,()=>{const p=r[d];return d++,p})}return h}};class Lr extends xn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;os(Rr),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),it.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||F.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(s),i!=null&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function Dr(t){const[e,n]=qn(),i=m.exports.useContext(wn);return Vn(Lr,{...t,layoutGroup:i,switchLayoutGroup:m.exports.useContext(Ln),isPresent:e,safeToRemove:n})}const Rr={borderRadius:{...nt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomLeftRadius:nt,borderBottomRightRadius:nt,boxShadow:wr},Mr={measureLayout:Dr};function Er(t,e,n={}){const i=M(t)?t:k(t);return de("",i,e,n),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const gi=["TopLeft","TopRight","BottomLeft","BottomRight"],kr=gi.length,tn=t=>typeof t=="string"?parseFloat(t):t,en=t=>typeof t=="number"||v.test(t);function Fr(t,e,n,i,s,r){var o,a,u,l;s?(t.opacity=S(0,(o=n.opacity)!==null&&o!==void 0?o:1,Or(i)),t.opacityExit=S((a=e.opacity)!==null&&a!==void 0?a:1,0,_r(i))):r&&(t.opacity=S((u=e.opacity)!==null&&u!==void 0?u:1,(l=n.opacity)!==null&&l!==void 0?l:1,i));for(let c=0;c<kr;c++){const f=`border${gi[c]}Radius`;let h=nn(e,f),d=nn(n,f);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||en(h)===en(d)?(t[f]=Math.max(S(tn(h),tn(d),i),0),(lt.test(d)||lt.test(h))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=S(e.rotate||0,n.rotate||0,i))}function nn(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}const Or=vi(0,.5,Tn),_r=vi(.5,.95,Pn);function vi(t,e,n){return i=>i<t?0:i>e?1:n($t(t,e,i))}function sn(t,e){t.min=e.min,t.max=e.max}function D(t,e){sn(t.x,e.x),sn(t.y,e.y)}function on(t,e,n,i,s){return t-=e,t=Tt(t,1/n,i),s!==void 0&&(t=Tt(t,1/s,i)),t}function Ir(t,e=0,n=1,i=.5,s,r=t,o=t){if(lt.test(e)&&(e=parseFloat(e),e=S(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=S(r.min,r.max,i);t===r&&(a-=e),t.min=on(t.min,e,n,a,s),t.max=on(t.max,e,n,a,s)}function rn(t,e,[n,i,s],r,o){Ir(t,e[n],e[i],e[s],e.scale,r,o)}const Br=["x","scaleX","originX"],jr=["y","scaleY","originY"];function an(t,e,n,i){rn(t.x,e,Br,n==null?void 0:n.x,i==null?void 0:i.x),rn(t.y,e,jr,n==null?void 0:n.y,i==null?void 0:i.y)}function ln(t){return t.translate===0&&t.scale===1}function yi(t){return ln(t.x)&&ln(t.y)}function xi(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function un(t){return L(t.x)/L(t.y)}function Ur(t,e,n=.1){return ee(t,e)<=n}class Nr{constructor(){this.members=[]}add(e){pe(this.members,e),e.scheduleRender()}remove(e){if(me(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){var i;const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues,e.snapshot.isShared=!0),!((i=e.root)===null||i===void 0)&&i.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,i,s,r,o;(i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n),(o=(s=e.resumingFrom)===null||s===void 0?void 0:(r=s.options).onExitComplete)===null||o===void 0||o.call(r)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $r="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function cn(t,e,n){const i=t.x.translate/e.x,s=t.y.translate/e.y;let r=`translate3d(${i}px, ${s}px, 0) `;if(r+=`scale(${1/e.x}, ${1/e.y}) `,n){const{rotate:u,rotateX:l,rotateY:c}=n;u&&(r+=`rotate(${u}deg) `),l&&(r+=`rotateX(${l}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return r+=`scale(${o}, ${a})`,r===$r?"none":r}const zr=(t,e)=>t.depth-e.depth;class Gr{constructor(){this.children=[],this.isDirty=!1}add(e){pe(this.children,e),this.isDirty=!0}remove(e){me(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zr),this.isDirty=!1,this.children.forEach(e)}}const fn=["","X","Y","Z"],hn=1e3;function Vi({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o,a={},u=e==null?void 0:e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Kr),this.nodes.forEach(Zr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=o,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gr)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new st),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u==null||u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var u;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),(u=this.parent)===null||u===void 0||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Qn(d,250),it.hasAnimatedSinceResize&&(it.hasAnimatedSinceResize=!1,this.nodes.forEach(pn))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{var y,C,V,x,P;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=(C=(y=this.options.transition)!==null&&y!==void 0?y:f.getDefaultTransition())!==null&&C!==void 0?C:ea,{onLayoutAnimationStart:Z,onLayoutAnimationComplete:q}=f.getProps(),H=!this.targetLayout||!xi(this.targetLayout,g)||p,J=!d&&p;if(((V=this.resumeFrom)===null||V===void 0?void 0:V.instance)||J||d&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,J);const j={...he(A,"layout"),onPlay:Z,onComplete:q};f.shouldReduceMotion&&(j.delay=0,j.type=!1),this.startAnimation(j)}else!d&&this.animationProgress===0&&pn(this),this.isLead()&&((P=(x=this.options).onExitComplete)===null||P===void 0||P.call(x));this.targetLayout=g})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,z.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(qr))}willUpdate(o=!0){var a,u,l;if(this.root.isUpdateBlocked()){(u=(a=this.options).onExitComplete)===null||u===void 0||u.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll()}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const h=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate;this.prevTransformTemplateValue=h==null?void 0:h(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dn);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(na),this.potentialNodes.clear()),this.nodes.forEach(Xr),this.nodes.forEach(Hr),this.nodes.forEach(Wr),this.clearAllSnapshots(),Ft.update(),Ft.preRender(),Ft.render())}clearAllSnapshots(){this.nodes.forEach(Yr),this.sharedNodes.forEach(Jr)}scheduleUpdateProjection(){F.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){F.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const o=this.measure(),a=this.removeTransform(this.removeElementScroll(o));yn(a),this.snapshot={measured:o,layout:a,latestValues:{}}}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.measure();yn(a);const u=this.layout;this.layout={measured:a,actual:this.removeElementScroll(a)},this.layoutCorrected=T(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.actual,u==null?void 0:u.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=n(this.instance))}resetTransform(){var o;if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!yi(this.projectionDelta),l=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,c=l==null?void 0:l(this.latestValues,""),f=c!==this.prevTransformTemplateValue;a&&(u||$(this.latestValues)||f)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:o}=this.options;if(!o)return T();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(I(a.x,u.x),I(a.y,u.y)),a}removeElementScroll(o){const a=T();D(a,o);for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:c,options:f,isScrollRoot:h}=l;if(l!==this.root&&c&&f.layoutScroll){if(h){D(a,o);const{scroll:d}=this.root;d&&(I(a.x,-d.x),I(a.y,-d.y))}I(a.x,c.x),I(a.y,c.y)}}return a}applyTransform(o,a=!1){const u=T();D(u,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Y(u,{x:-c.scroll.x,y:-c.scroll.y}),$(c.latestValues)&&Y(u,c.latestValues)}return $(this.latestValues)&&Y(u,this.latestValues),u}removeTransform(o){var a;const u=T();D(u,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$(c.latestValues))continue;Kt(c.latestValues)&&c.updateSnapshot();const f=T(),h=c.measure();D(f,h),an(u,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layout,f)}return $(this.latestValues)&&an(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const{layout:a,layoutId:u}=this.options;if(!(!this.layout||!(a||u))){if(!this.targetDelta&&!this.relativeTarget){const l=this.getClosestProjectingParent();l&&l.layout?(this.relativeParent=l,this.relativeTarget=T(),this.relativeTargetOrigin=T(),rt(this.relativeTargetOrigin,this.layout.actual,l.layout.actual),D(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=T(),this.targetWithTransforms=T()),this.relativeTarget&&this.relativeTargetOrigin&&((o=this.relativeParent)===null||o===void 0?void 0:o.target)?$o(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):D(this.target,this.layout.actual),ai(this.target,this.targetDelta)):D(this.target,this.layout.actual),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const l=this.getClosestProjectingParent();l&&Boolean(l.resumingFrom)===Boolean(this.resumingFrom)&&!l.options.layoutScroll&&l.target?(this.relativeParent=l,this.relativeTarget=T(),this.relativeTargetOrigin=T(),rt(this.relativeTargetOrigin,this.target,l.target),D(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kt(this.parent.latestValues)||ri(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{layout:a,layoutId:u}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||u))return;const l=this.getLead();D(this.layoutCorrected,this.layout.actual),qo(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==l);const{target:c}=l;if(!c)return;this.projectionDelta||(this.projectionDelta=at(),this.projectionDeltaWithTransform=at());const f=this.treeScale.x,h=this.treeScale.y,d=this.projectionTransform;ot(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=cn(this.projectionDelta,this.treeScale),(this.projectionTransform!==d||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,u,l;(u=(a=this.options).scheduleRender)===null||u===void 0||u.call(a),o&&((l=this.getStack())===null||l===void 0||l.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var u;const l=this.snapshot,c=(l==null?void 0:l.latestValues)||{},f={...this.latestValues},h=at();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const d=T(),p=l==null?void 0:l.isShared,g=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,y=Boolean(p&&!g&&this.options.crossfade===!0&&!this.path.some(ta));this.animationProgress=0,this.mixTargetDelta=C=>{var V;const x=C/1e3;mn(h.x,o.x,x),mn(h.y,o.y,x),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((V=this.relativeParent)===null||V===void 0?void 0:V.layout)&&(rt(d,this.layout.actual,this.relativeParent.layout.actual),Qr(this.relativeTarget,this.relativeTargetOrigin,d,x)),p&&(this.animationValues=f,Fr(f,c,this.latestValues,x,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(0)}startAnimation(o){var a,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((u=this.resumingFrom.currentAnimation)===null||u===void 0||u.stop()),this.pendingAnimation&&(z.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=F.update(()=>{it.hasAnimatedSinceResize=!0,this.currentAnimation=Er(0,hn,{...o,onUpdate:l=>{var c;this.mixTargetDelta(l),(c=o.onUpdate)===null||c===void 0||c.call(o,l)},onComplete:()=>{var l;(l=o.onComplete)===null||l===void 0||l.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,hn),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=o;if(!(!a||!u||!l)){if(this!==o&&this.layout&&l&&bi(this.options.animationType,this.layout.actual,l.actual)){u=this.target||T();const f=L(this.layout.actual.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const h=L(this.layout.actual.y);u.y.min=o.target.y.min,u.y.max=u.y.min+h}D(a,u),Y(a,c),ot(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){var u,l,c;this.sharedNodes.has(o)||this.sharedNodes.set(o,new Nr),this.sharedNodes.get(o).add(a),a.promote({transition:(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.transition,preserveFollowOpacity:(c=(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(l,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const u={};for(let l=0;l<fn.length;l++){const f="rotate"+fn[l];!o.getStaticValue(f)||(a=!0,u[f]=o.getStaticValue(f),o.setStaticValue(f,0))}if(!!a){o==null||o.render();for(const l in u)o.setStaticValue(l,u[l]);o.scheduleRender()}}getProjectionStyles(o={}){var a,u,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const f=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gt(o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=gt(o.pointerEvents)||""),this.hasProjected&&!$(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=cn(this.projectionDeltaWithTransform,this.treeScale,d),f&&(c.transform=f(d,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(u=d.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in vt){if(d[y]===void 0)continue;const{correct:C,applyTo:V}=vt[y],x=C(d[y],h);if(V){const P=V.length;for(let A=0;A<P;A++)c[V[A]]=x}else c[y]=x}return this.options.layoutId&&(c.pointerEvents=h===this?gt(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dn),this.root.sharedNodes.clear()}}}function Hr(t){t.updateLayout()}function Wr(t){var e,n,i;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{actual:r,measured:o}=t.layout,{animationType:a}=t.options;a==="size"?E(h=>{const d=s.isShared?s.measured[h]:s.layout[h],p=L(d);d.min=r[h].min,d.max=d.min+p}):bi(a,s.layout,r)&&E(h=>{const d=s.isShared?s.measured[h]:s.layout[h],p=L(r[h]);d.max=d.min+p});const u=at();ot(u,r,s.layout);const l=at();s.isShared?ot(l,t.applyTransform(o,!0),s.measured):ot(l,r,s.layout);const c=!yi(u);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const g=T();rt(g,s.layout,d.layout);const y=T();rt(y,r,p.actual),xi(g,y)||(f=!0)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:l,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else t.isLead()&&((i=(n=t.options).onExitComplete)===null||i===void 0||i.call(n));t.options.transition=void 0}function Yr(t){t.clearSnapshot()}function dn(t){t.clearMeasurements()}function Xr(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pn(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Kr(t){t.resolveTargetDelta()}function Zr(t){t.calcProjection()}function qr(t){t.resetRotation()}function Jr(t){t.removeLeadSnapshot()}function mn(t,e,n){t.translate=S(e.translate,0,n),t.scale=S(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gn(t,e,n,i){t.min=S(e.min,n.min,i),t.max=S(e.max,n.max,i)}function Qr(t,e,n,i){gn(t.x,e.x,n.x,i),gn(t.y,e.y,n.y,i)}function ta(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ea={duration:.45,ease:[.4,0,.1,1]};function na(t,e){let n=t.root;for(let r=t.path.length-1;r>=0;r--)if(Boolean(t.path[r].instance)){n=t.path[r];break}const s=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);s&&t.mount(s,!0)}function vn(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function yn(t){vn(t.x),vn(t.y)}function bi(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ur(un(e),un(n),.2)}const ia=Vi({attachResizeListener:(t,e)=>Dt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ut={current:void 0},sa=Vi({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ut.current){const t=new ia(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Ut.current=t}return Ut.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),oa={...jo,...eo,...rr,...Mr},ma=is((t,e)=>Ms(t,e,oa,Ar,sa)),ra=()=>({scrollX:k(0),scrollY:k(0),scrollXProgress:k(0),scrollYProgress:k(0)});function ga({container:t,target:e,layoutEffect:n=!0,...i}={}){const s=Lt(ra);return(n?Gt:m.exports.useEffect)(()=>zi(({x:o,y:a})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(a.current),s.scrollYProgress.set(a.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),[]),s}export{ma as m,ga as u};
