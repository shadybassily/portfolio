import{l as ge,E as ze,h as z,m as F,n as _,P as U,Q as ye,o as Ee,i as L,O as B,p as Ce,q as He,F as Ye,r as Fe}from"./three.50342b97.js";import{_ as a}from"./@babel.a7b9b245.js";import"./lodash.121768ac.js";function qe(E,r=1e-4){r=Math.max(r,Number.EPSILON);const d={},e=E.getIndex(),P=E.getAttribute("position"),b=e?e.count:P.count;let g=0;const o=Object.keys(E.attributes),s={},T={},c=[],f=["getX","getY","getZ","getW"];for(let l=0,u=o.length;l<u;l++){const m=o[l];s[m]=[];const y=E.morphAttributes[m];y&&(T[m]=new Array(y.length).fill(0).map(()=>[]))}const O=Math.log10(1/r),S=Math.pow(10,O);for(let l=0;l<b;l++){const u=e?e.getX(l):l;let m="";for(let y=0,I=o.length;y<I;y++){const v=o[y],A=E.getAttribute(v),w=A.itemSize;for(let x=0;x<w;x++)m+=`${~~(A[f[x]](u)*S)},`}if(m in d)c.push(d[m]);else{for(let y=0,I=o.length;y<I;y++){const v=o[y],A=E.getAttribute(v),w=E.morphAttributes[v],x=A.itemSize,h=s[v],H=T[v];for(let Z=0;Z<x;Z++){const C=f[Z];if(h.push(A[C](u)),w)for(let R=0,X=w.length;R<X;R++)H[R].push(w[R][C](u))}}d[m]=g,c.push(g),g++}}const D=E.clone();for(let l=0,u=o.length;l<u;l++){const m=o[l],y=E.getAttribute(m),I=new y.array.constructor(s[m]),v=new ge(I,y.itemSize,y.normalized);if(D.setAttribute(m,v),m in T)for(let A=0;A<T[m].length;A++){const w=E.morphAttributes[m][A],x=new w.array.constructor(T[m][A]),h=new ge(x,w.itemSize,w.normalized);D.morphAttributes[m][A]=h}}return D.setIndex(c),D}const Pe=(E,r)=>(E%r+r)%r;class Ve extends ze{constructor(r,d){super(),a(this,"object",void 0),a(this,"domElement",void 0),a(this,"enabled",!0),a(this,"target",new z),a(this,"minDistance",0),a(this,"maxDistance",1/0),a(this,"minZoom",0),a(this,"maxZoom",1/0),a(this,"minPolarAngle",0),a(this,"maxPolarAngle",Math.PI),a(this,"minAzimuthAngle",-1/0),a(this,"maxAzimuthAngle",1/0),a(this,"enableDamping",!1),a(this,"dampingFactor",.05),a(this,"enableZoom",!0),a(this,"zoomSpeed",1),a(this,"enableRotate",!0),a(this,"rotateSpeed",1),a(this,"enablePan",!0),a(this,"panSpeed",1),a(this,"screenSpacePanning",!0),a(this,"keyPanSpeed",7),a(this,"autoRotate",!1),a(this,"autoRotateSpeed",2),a(this,"reverseOrbit",!1),a(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),a(this,"mouseButtons",{LEFT:F.ROTATE,MIDDLE:F.DOLLY,RIGHT:F.PAN}),a(this,"touches",{ONE:_.ROTATE,TWO:_.DOLLY_PAN}),a(this,"target0",void 0),a(this,"position0",void 0),a(this,"zoom0",void 0),a(this,"_domElementKeyEvents",null),a(this,"getPolarAngle",void 0),a(this,"getAzimuthalAngle",void 0),a(this,"setPolarAngle",void 0),a(this,"setAzimuthalAngle",void 0),a(this,"getDistance",void 0),a(this,"listenToKeyEvents",void 0),a(this,"saveState",void 0),a(this,"reset",void 0),a(this,"update",void 0),a(this,"connect",void 0),a(this,"dispose",void 0),this.object=r,this.domElement=d,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof U?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=t=>{let n=Pe(t,2*Math.PI),i=c.phi;i<0&&(i+=2*Math.PI),n<0&&(n+=2*Math.PI);let p=Math.abs(n-i);2*Math.PI-p<p&&(n<i?n+=2*Math.PI:i+=2*Math.PI),f.phi=n-i,e.update()},this.setAzimuthalAngle=t=>{let n=Pe(t,2*Math.PI),i=c.theta;i<0&&(i+=2*Math.PI),n<0&&(n+=2*Math.PI);let p=Math.abs(n-i);2*Math.PI-p<p&&(n<i?n+=2*Math.PI:i+=2*Math.PI),f.theta=n-i,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",pe),this._domElementKeyEvents=t},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object instanceof U?e.object.zoom:1},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object instanceof U&&(e.object.zoom=e.zoom0,e.object.updateProjectionMatrix()),e.dispatchEvent(P),e.update(),s=o.NONE},this.update=(()=>{const t=new z,n=new ye().setFromUnitVectors(r.up,new z(0,1,0)),i=n.clone().invert(),p=new z,M=new ye,j=2*Math.PI;return function(){const be=e.object.position;t.copy(be).sub(e.target),t.applyQuaternion(n),c.setFromVector3(t),e.autoRotate&&s===o.NONE&&R(Z()),e.enableDamping?(c.theta+=f.theta*e.dampingFactor,c.phi+=f.phi*e.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let N=e.minAzimuthAngle,k=e.maxAzimuthAngle;return isFinite(N)&&isFinite(k)&&(N<-Math.PI?N+=j:N>Math.PI&&(N-=j),k<-Math.PI?k+=j:k>Math.PI&&(k-=j),N<=k?c.theta=Math.max(N,Math.min(k,c.theta)):c.theta=c.theta>(N+k)/2?Math.max(N,c.theta):Math.min(k,c.theta)),c.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=O,c.radius=Math.max(e.minDistance,Math.min(e.maxDistance,c.radius)),e.enableDamping===!0?e.target.addScaledVector(S,e.dampingFactor):e.target.add(S),t.setFromSpherical(c),t.applyQuaternion(i),be.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(f.theta*=1-e.dampingFactor,f.phi*=1-e.dampingFactor,S.multiplyScalar(1-e.dampingFactor)):(f.set(0,0,0),S.set(0,0,0)),O=1,D||p.distanceToSquared(e.object.position)>T||8*(1-M.dot(e.object.quaternion))>T?(e.dispatchEvent(P),p.copy(e.object.position),M.copy(e.object.quaternion),D=!1,!0):!1}})(),this.connect=t=>{t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",de),e.domElement.addEventListener("pointerdown",le),e.domElement.addEventListener("pointercancel",he),e.domElement.addEventListener("wheel",ue)},this.dispose=()=>{var t,n,i,p,M,j;(t=e.domElement)===null||t===void 0||t.removeEventListener("contextmenu",de),(n=e.domElement)===null||n===void 0||n.removeEventListener("pointerdown",le),(i=e.domElement)===null||i===void 0||i.removeEventListener("pointercancel",he),(p=e.domElement)===null||p===void 0||p.removeEventListener("wheel",ue),(M=e.domElement)===null||M===void 0||M.ownerDocument.removeEventListener("pointermove",V),(j=e.domElement)===null||j===void 0||j.ownerDocument.removeEventListener("pointerup",W),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",pe)};const e=this,P={type:"change"},b={type:"start"},g={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const T=1e-6,c=new Ee,f=new Ee;let O=1;const S=new z;let D=!1;const l=new L,u=new L,m=new L,y=new L,I=new L,v=new L,A=new L,w=new L,x=new L,h=[],H={};function Z(){return 2*Math.PI/60/60*e.autoRotateSpeed}function C(){return Math.pow(.95,e.zoomSpeed)}function R(t){e.reverseOrbit?f.theta+=t:f.theta-=t}function X(t){e.reverseOrbit?f.phi+=t:f.phi-=t}const J=(()=>{const t=new z;return function(i,p){t.setFromMatrixColumn(p,0),t.multiplyScalar(-i),S.add(t)}})(),$=(()=>{const t=new z;return function(i,p){e.screenSpacePanning===!0?t.setFromMatrixColumn(p,1):(t.setFromMatrixColumn(p,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(i),S.add(t)}})(),Y=(()=>{const t=new z;return function(i,p){const M=e.domElement;if(M&&e.object instanceof U&&e.object.isPerspectiveCamera){const j=e.object.position;t.copy(j).sub(e.target);let K=t.length();K*=Math.tan(e.object.fov/2*Math.PI/180),J(2*i*K/M.clientHeight,e.object.matrix),$(2*p*K/M.clientHeight,e.object.matrix)}else M&&e.object instanceof B&&e.object.isOrthographicCamera?(J(i*(e.object.right-e.object.left)/e.object.zoom/M.clientWidth,e.object.matrix),$(p*(e.object.top-e.object.bottom)/e.object.zoom/M.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function q(t){e.object instanceof U&&e.object.isPerspectiveCamera?O/=t:e.object instanceof B&&e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),D=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ee(t){e.object instanceof U&&e.object.isPerspectiveCamera?O*=t:e.object instanceof B&&e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),D=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function te(t){l.set(t.clientX,t.clientY)}function Te(t){A.set(t.clientX,t.clientY)}function ne(t){y.set(t.clientX,t.clientY)}function Ae(t){u.set(t.clientX,t.clientY),m.subVectors(u,l).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(R(2*Math.PI*m.x/n.clientHeight),X(2*Math.PI*m.y/n.clientHeight)),l.copy(u),e.update()}function Oe(t){w.set(t.clientX,t.clientY),x.subVectors(w,A),x.y>0?q(C()):x.y<0&&ee(C()),A.copy(w),e.update()}function Me(t){I.set(t.clientX,t.clientY),v.subVectors(I,y).multiplyScalar(e.panSpeed),Y(v.x,v.y),y.copy(I),e.update()}function we(t){t.deltaY<0?ee(C()):t.deltaY>0&&q(C()),e.update()}function ve(t){let n=!1;switch(t.code){case e.keys.UP:Y(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:Y(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:Y(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:Y(-e.keyPanSpeed,0),n=!0;break}n&&(t.preventDefault(),e.update())}function oe(){if(h.length==1)l.set(h[0].pageX,h[0].pageY);else{const t=.5*(h[0].pageX+h[1].pageX),n=.5*(h[0].pageY+h[1].pageY);l.set(t,n)}}function ae(){if(h.length==1)y.set(h[0].pageX,h[0].pageY);else{const t=.5*(h[0].pageX+h[1].pageX),n=.5*(h[0].pageY+h[1].pageY);y.set(t,n)}}function ie(){const t=h[0].pageX-h[1].pageX,n=h[0].pageY-h[1].pageY,i=Math.sqrt(t*t+n*n);A.set(0,i)}function Ie(){e.enableZoom&&ie(),e.enablePan&&ae()}function xe(){e.enableZoom&&ie(),e.enableRotate&&oe()}function se(t){if(h.length==1)u.set(t.pageX,t.pageY);else{const i=G(t),p=.5*(t.pageX+i.x),M=.5*(t.pageY+i.y);u.set(p,M)}m.subVectors(u,l).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(R(2*Math.PI*m.x/n.clientHeight),X(2*Math.PI*m.y/n.clientHeight)),l.copy(u)}function re(t){if(h.length==1)I.set(t.pageX,t.pageY);else{const n=G(t),i=.5*(t.pageX+n.x),p=.5*(t.pageY+n.y);I.set(i,p)}v.subVectors(I,y).multiplyScalar(e.panSpeed),Y(v.x,v.y),y.copy(I)}function ce(t){const n=G(t),i=t.pageX-n.x,p=t.pageY-n.y,M=Math.sqrt(i*i+p*p);w.set(0,M),x.set(0,Math.pow(w.y/A.y,e.zoomSpeed)),q(x.y),A.copy(w)}function De(t){e.enableZoom&&ce(t),e.enablePan&&re(t)}function Se(t){e.enableZoom&&ce(t),e.enableRotate&&se(t)}function le(t){if(e.enabled!==!1){if(h.length===0){var n,i;(n=e.domElement)===null||n===void 0||n.ownerDocument.addEventListener("pointermove",V),(i=e.domElement)===null||i===void 0||i.ownerDocument.addEventListener("pointerup",W)}Re(t),t.pointerType==="touch"?Ne(t):je(t)}}function V(t){e.enabled!==!1&&(t.pointerType==="touch"?ke(t):Le(t))}function W(t){if(fe(t),h.length===0){var n,i,p;(n=e.domElement)===null||n===void 0||n.releasePointerCapture(t.pointerId),(i=e.domElement)===null||i===void 0||i.ownerDocument.removeEventListener("pointermove",V),(p=e.domElement)===null||p===void 0||p.ownerDocument.removeEventListener("pointerup",W)}e.dispatchEvent(g),s=o.NONE}function he(t){fe(t)}function je(t){let n;switch(t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case F.DOLLY:if(e.enableZoom===!1)return;Te(t),s=o.DOLLY;break;case F.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;ne(t),s=o.PAN}else{if(e.enableRotate===!1)return;te(t),s=o.ROTATE}break;case F.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;te(t),s=o.ROTATE}else{if(e.enablePan===!1)return;ne(t),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&e.dispatchEvent(b)}function Le(t){if(e.enabled!==!1)switch(s){case o.ROTATE:if(e.enableRotate===!1)return;Ae(t);break;case o.DOLLY:if(e.enableZoom===!1)return;Oe(t);break;case o.PAN:if(e.enablePan===!1)return;Me(t);break}}function ue(t){e.enabled===!1||e.enableZoom===!1||s!==o.NONE&&s!==o.ROTATE||(t.preventDefault(),e.dispatchEvent(b),we(t),e.dispatchEvent(g))}function pe(t){e.enabled===!1||e.enablePan===!1||ve(t)}function Ne(t){switch(me(t),h.length){case 1:switch(e.touches.ONE){case _.ROTATE:if(e.enableRotate===!1)return;oe(),s=o.TOUCH_ROTATE;break;case _.PAN:if(e.enablePan===!1)return;ae(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(e.touches.TWO){case _.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ie(),s=o.TOUCH_DOLLY_PAN;break;case _.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;xe(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&e.dispatchEvent(b)}function ke(t){switch(me(t),s){case o.TOUCH_ROTATE:if(e.enableRotate===!1)return;se(t),e.update();break;case o.TOUCH_PAN:if(e.enablePan===!1)return;re(t),e.update();break;case o.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;De(t),e.update();break;case o.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Se(t),e.update();break;default:s=o.NONE}}function de(t){e.enabled!==!1&&t.preventDefault()}function Re(t){h.push(t)}function fe(t){delete H[t.pointerId];for(let n=0;n<h.length;n++)if(h[n].pointerId==t.pointerId){h.splice(n,1);return}}function me(t){let n=H[t.pointerId];n===void 0&&(n=new L,H[t.pointerId]=n),n.set(t.pageX,t.pageY)}function G(t){const n=t.pointerId===h[0].pointerId?h[1]:h[0];return H[n.pointerId]}d!==void 0&&this.connect(d),this.update()}}class We extends Ce{constructor(r,d={}){const{bevelEnabled:e=!1,bevelSize:P=8,bevelThickness:b=10,font:g,height:o=50,size:s=100,lineHeight:T=1,letterSpacing:c=0,...f}=d;if(g===void 0)super();else{const O=g.generateShapes(r,s,{lineHeight:T,letterSpacing:c});super(O,{...f,bevelEnabled:e,bevelSize:P,bevelThickness:b,depth:o})}this.type="TextGeometry"}}class Ge extends He{constructor(r){super(r)}load(r,d,e,P){const b=new Ye(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(r,g=>{if(typeof g!="string")throw new Error("unsupported data type");const o=JSON.parse(g),s=this.parse(o);d&&d(s)},e,P)}parse(r){return new Q(r)}}class Q{constructor(r){a(this,"data",void 0),this.data=r}generateShapes(r,d=100,e){const P=[],b={letterSpacing:0,lineHeight:1,...e},g=_e(r,d,this.data,b);for(let o=0,s=g.length;o<s;o++)Array.prototype.push.apply(P,g[o].toShapes(!1));return P}}a(Q,"isFont",void 0);a(Q,"type",void 0);function _e(E,r,d,e){const P=Array.from(E),b=r/d.resolution,g=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*b,o=[];let s=0,T=0;for(let c=0;c<P.length;c++){const f=P[c];if(f===`
`)s=0,T-=g*e.lineHeight;else{const O=Ue(f,b,s,T,d);O&&(s+=O.offsetX+e.letterSpacing,o.push(O.path))}}return o}function Ue(E,r,d,e,P){const b=P.glyphs[E]||P.glyphs["?"];if(!b){console.error('THREE.Font: character "'+E+'" does not exists in font family '+P.familyName+".");return}const g=new Fe;let o,s,T,c,f,O,S,D;if(b.o){const l=b._cachedOutline||(b._cachedOutline=b.o.split(" "));for(let u=0,m=l.length;u<m;)switch(l[u++]){case"m":o=parseInt(l[u++])*r+d,s=parseInt(l[u++])*r+e,g.moveTo(o,s);break;case"l":o=parseInt(l[u++])*r+d,s=parseInt(l[u++])*r+e,g.lineTo(o,s);break;case"q":T=parseInt(l[u++])*r+d,c=parseInt(l[u++])*r+e,f=parseInt(l[u++])*r+d,O=parseInt(l[u++])*r+e,g.quadraticCurveTo(f,O,T,c);break;case"b":T=parseInt(l[u++])*r+d,c=parseInt(l[u++])*r+e,f=parseInt(l[u++])*r+d,O=parseInt(l[u++])*r+e,S=parseInt(l[u++])*r+d,D=parseInt(l[u++])*r+e,g.bezierCurveTo(f,O,S,D,T,c);break}}return{offsetX:b.ha*r,path:g}}export{Ge as F,Ve as O,We as T,qe as m};
