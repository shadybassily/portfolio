import{w as De,i as G}from"./hey-listen.a7ce0d1d.js";import{i as N,r as P,j as Ie,c as te,e as ne}from"./style-value-types.134d561e.js";import{s as we,c as Te,g as Re}from"./framesync.794bfee9.js";function se(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}const _=(e,t,n)=>Math.min(Math.max(n,e),t),C=.001,je=.01,$=10,Ee=.05,Ae=1;function ke({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let o,a;De(e<=$*1e3);let r=1-t;r=_(Ee,Ae,r),e=_(je,$,e/1e3),r<1?(o=u=>{const d=u*r,p=d*e,x=d-n,O=B(u,r),b=Math.exp(-p);return C-x/O*b},a=u=>{const p=u*r*e,x=p*n+n,O=Math.pow(r,2)*Math.pow(u,2)*e,b=Math.exp(-p),v=B(Math.pow(u,2),r);return(-o(u)+C>0?-1:1)*((x-O)*b)/v}):(o=u=>{const d=Math.exp(-u*e),p=(u-n)*e+1;return-C+d*p},a=u=>{const d=Math.exp(-u*e),p=(n-u)*(e*e);return d*p});const l=5/e,c=Fe(o,a,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const Ce=12;function Fe(e,t,n){let s=n;for(let o=1;o<Ce;o++)s=s-e(s)/t(s);return s}function B(e,t){return e*Math.sqrt(1-t*t)}const Ne=["duration","bounce"],Pe=["stiffness","damping","mass"];function J(e,t){return t.some(n=>e[n]!==void 0)}function _e(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!J(e,Pe)&&J(e,Ne)){const n=ke(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function z(e){var{from:t=0,to:n=1,restSpeed:s=2,restDelta:o}=e,a=se(e,["from","to","restSpeed","restDelta"]);const r={done:!1,value:t};let{stiffness:l,damping:c,mass:u,velocity:d,duration:p,isResolvedFromDuration:x}=_e(a),O=Q,b=Q;function v(){const g=d?-(d/1e3):0,y=n-t,m=c/(2*Math.sqrt(l*u)),i=Math.sqrt(l/u)/1e3;if(o===void 0&&(o=Math.min(Math.abs(n-t)/100,.4)),m<1){const f=B(i,m);O=h=>{const M=Math.exp(-m*i*h);return n-M*((g+m*i*y)/f*Math.sin(f*h)+y*Math.cos(f*h))},b=h=>{const M=Math.exp(-m*i*h);return m*i*M*(Math.sin(f*h)*(g+m*i*y)/f+y*Math.cos(f*h))-M*(Math.cos(f*h)*(g+m*i*y)-f*y*Math.sin(f*h))}}else if(m===1)O=f=>n-Math.exp(-i*f)*(y+(g+i*y)*f);else{const f=i*Math.sqrt(m*m-1);O=h=>{const M=Math.exp(-m*i*h),S=Math.min(f*h,300);return n-M*((g+m*i*y)*Math.sinh(S)+f*y*Math.cosh(S))/f}}}return v(),{next:g=>{const y=O(g);if(x)r.done=g>=p;else{const m=b(g)*1e3,i=Math.abs(m)<=s,f=Math.abs(n-y)<=o;r.done=i&&f}return r.value=r.done?n:y,r},flipTarget:()=>{d=-d,[t,n]=[n,t],v()}}}z.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const Q=e=>0,re=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},q=(e,t,n)=>-n*e+n*t+e;function F(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function W({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,a=0,r=0;if(!t)o=a=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=F(c,l,e+1/3),a=F(c,l,e),r=F(c,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:s}}const Be=(e,t,n)=>{const s=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-s)+s))},He=[Ie,P,N],Z=e=>He.find(t=>t.test(e)),oe=(e,t)=>{let n=Z(e),s=Z(t),o=n.parse(e),a=s.parse(t);n===N&&(o=W(o),n=P),s===N&&(a=W(a),s=P);const r=Object.assign({},o);return l=>{for(const c in r)c!=="alpha"&&(r[c]=Be(o[c],a[c],l));return r.alpha=q(o.alpha,a.alpha,l),n.transform(r)}},H=e=>typeof e=="number",Ve=(e,t)=>n=>t(e(n)),ae=(...e)=>e.reduce(Ve);function ce(e,t){return H(e)?n=>q(e,t,n):ne.test(e)?oe(e,t):le(e,t)}const ie=(e,t)=>{const n=[...e],s=n.length,o=e.map((a,r)=>ce(a,t[r]));return a=>{for(let r=0;r<s;r++)n[r]=o[r](a);return n}},Le=(e,t)=>{const n=Object.assign(Object.assign({},e),t),s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=ce(e[o],t[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}};function Y(e){const t=te.parse(e),n=t.length;let s=0,o=0,a=0;for(let r=0;r<n;r++)s||typeof t[r]=="number"?s++:t[r].hue!==void 0?a++:o++;return{parsed:t,numNumbers:s,numRGB:o,numHSL:a}}const le=(e,t)=>{const n=te.createTransformer(t),s=Y(e),o=Y(t);return s.numHSL===o.numHSL&&s.numRGB===o.numRGB&&s.numNumbers>=o.numNumbers?ae(ie(s.parsed,o.parsed),n):r=>`${r>0?t:e}`},ze=(e,t)=>n=>q(e,t,n);function qe(e){if(typeof e=="number")return ze;if(typeof e=="string")return ne.test(e)?oe:le;if(Array.isArray(e))return ie;if(typeof e=="object")return Le}function Ue(e,t,n){const s=[],o=n||qe(e[0]),a=e.length-1;for(let r=0;r<a;r++){let l=o(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]:t;l=ae(c,l)}s.push(l)}return s}function Ke([e,t],[n]){return s=>n(re(e,t,s))}function Ge(e,t){const n=e.length,s=n-1;return o=>{let a=0,r=!1;if(o<=e[0]?r=!0:o>=e[s]&&(a=s-1,r=!0),!r){let c=1;for(;c<n&&!(e[c]>o||c===s);c++);a=c-1}const l=re(e[a],e[a+1],o);return t[a](l)}}function ue(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const a=e.length;G(a===t.length),G(!s||!Array.isArray(s)||s.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const r=Ue(t,s,o),l=a===2?Ke(e,r):Ge(e,r);return n?c=>l(_(e[0],e[a-1],c)):l}const A=e=>t=>1-e(1-t),U=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$e=e=>t=>Math.pow(t,e),fe=e=>t=>t*t*((e+1)*t-e),Je=e=>{const t=fe(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},pe=1.525,Qe=4/11,We=8/11,Ze=9/10,Ye=e=>e,de=$e(2),Dt=A(de),Xe=U(de),et=e=>1-Math.sin(Math.acos(e)),tt=A(et),It=U(tt),he=fe(pe),wt=A(he),Tt=U(he),Rt=Je(pe),nt=4356/361,st=35442/1805,rt=16061/1805,V=e=>{if(e===1||e===0)return e;const t=e*e;return e<Qe?7.5625*t:e<We?9.075*t-9.9*e+3.4:e<Ze?nt*t-st*e+rt:10.8*e*e-20.52*e+10.72},jt=A(V),Et=e=>e<.5?.5*(1-V(1-e*2)):.5*V(e*2-1)+.5;function ot(e,t){return e.map(()=>t||Xe).splice(0,e.length-1)}function at(e){const t=e.length;return e.map((n,s)=>s!==0?s/(t-1):0)}function ct(e,t){return e.map(n=>n*t)}function R({from:e=0,to:t=1,ease:n,offset:s,duration:o=300}){const a={done:!1,value:e},r=Array.isArray(t)?t:[e,t],l=ct(s&&s.length===r.length?s:at(r),o);function c(){return ue(l,r,{ease:Array.isArray(n)?n:ot(r,n)})}let u=c();return{next:d=>(a.value=u(d),a.done=d>=o,a),flipTarget:()=>{r.reverse(),u=c()}}}function it({velocity:e=0,from:t=0,power:n=.8,timeConstant:s=350,restDelta:o=.5,modifyTarget:a}){const r={done:!1,value:t};let l=n*e;const c=t+l,u=a===void 0?c:a(c);return u!==c&&(l=u-t),{next:d=>{const p=-l*Math.exp(-d/s);return r.done=!(p>o||p<-o),r.value=r.done?u:u+p,r},flipTarget:()=>{}}}const X={keyframes:R,spring:z,decay:it};function lt(e){if(Array.isArray(e.to))return R;if(X[e.type])return X[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?R:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?z:R}function me(e,t,n=0){return e-t-n}function ut(e,t,n=0,s=!0){return s?me(t+-e,t,n):t-(e-t)+n}function ft(e,t,n,s){return s?e>=t+n:e<=-n}const pt=e=>{const t=({delta:n})=>e(n);return{start:()=>we.update(t,!0),stop:()=>Te.update(t)}};function dt(e){var t,n,{from:s,autoplay:o=!0,driver:a=pt,elapsed:r=0,repeat:l=0,repeatType:c="loop",repeatDelay:u=0,onPlay:d,onStop:p,onComplete:x,onRepeat:O,onUpdate:b}=e,v=se(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=v,y,m=0,i=v.duration,f,h=!1,M=!0,S;const I=lt(v);!((n=(t=I).needsInterpolation)===null||n===void 0)&&n.call(t,s,g)&&(S=ue([0,100],[s,g],{clamp:!1}),s=0,g=100);const D=I(Object.assign(Object.assign({},v),{from:s,to:g}));function xe(){m++,c==="reverse"?(M=m%2===0,r=ut(r,i,u,M)):(r=me(r,i,u),c==="mirror"&&D.flipTarget()),h=!1,O&&O()}function Oe(){y.stop(),x&&x()}function ve(k){if(M||(k=-k),r+=k,!h){const K=D.next(Math.max(0,r));f=K.value,S&&(f=S(f)),h=M?K.done:r<=0}b==null||b(f),h&&(m===0&&(i!=null||(i=r)),m<l?ft(r,i,u,M)&&xe():Oe())}function Se(){d==null||d(),y=a(ve),y.start()}return o&&Se(),{stop:()=>{p==null||p(),y.stop()}}}function ht(e,t){return t?e*(1e3/t):0}function At({from:e=0,velocity:t=0,min:n,max:s,power:o=.8,timeConstant:a=750,bounceStiffness:r=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:d,onUpdate:p,onComplete:x,onStop:O}){let b;function v(i){return n!==void 0&&i<n||s!==void 0&&i>s}function g(i){return n===void 0?s:s===void 0||Math.abs(n-i)<Math.abs(s-i)?n:s}function y(i){b==null||b.stop(),b=dt(Object.assign(Object.assign({},i),{driver:d,onUpdate:f=>{var h;p==null||p(f),(h=i.onUpdate)===null||h===void 0||h.call(i,f)},onComplete:x,onStop:O}))}function m(i){y(Object.assign({type:"spring",stiffness:r,damping:l,restDelta:c},i))}if(v(e))m({from:e,velocity:t,to:g(e)});else{let i=o*t+e;typeof u<"u"&&(i=u(i));const f=g(i),h=f===n?-1:1;let M,S;const I=D=>{M=S,S=D,t=ht(D-M,Re().delta),(h===1&&D>f||h===-1&&D<f)&&m({from:D,to:f,velocity:t})};y({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:c,modifyTarget:u,onUpdate:v(i)?I:void 0})}return{stop:()=>b==null?void 0:b.stop()}}const L=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),ee=e=>L(e)&&e.hasOwnProperty("z"),w=(e,t)=>Math.abs(e-t);function kt(e,t){if(H(e)&&H(t))return w(e,t);if(L(e)&&L(t)){const n=w(e.x,t.x),s=w(e.y,t.y),o=ee(e)&&ee(t)?w(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(s,2)+Math.pow(o,2))}}const ye=(e,t)=>1-3*t+3*e,be=(e,t)=>3*t-6*e,ge=e=>3*e,E=(e,t,n)=>((ye(t,n)*e+be(t,n))*e+ge(t))*e,Me=(e,t,n)=>3*ye(t,n)*e*e+2*be(t,n)*e+ge(t),mt=1e-7,yt=10;function bt(e,t,n,s,o){let a,r,l=0;do r=t+(n-t)/2,a=E(r,s,o)-e,a>0?n=r:t=r;while(Math.abs(a)>mt&&++l<yt);return r}const gt=8,Mt=.001;function xt(e,t,n,s){for(let o=0;o<gt;++o){const a=Me(t,n,s);if(a===0)return t;const r=E(t,n,s)-e;t-=r/a}return t}const j=11,T=1/(j-1);function Ct(e,t,n,s){if(e===t&&n===s)return Ye;const o=new Float32Array(j);for(let r=0;r<j;++r)o[r]=E(r*T,e,n);function a(r){let l=0,c=1;const u=j-1;for(;c!==u&&o[c]<=r;++c)l+=T;--c;const d=(r-o[c])/(o[c+1]-o[c]),p=l+d*T,x=Me(p,e,n);return x>=Mt?xt(r,p,e,n):x===0?p:bt(r,l,l+T,e,n)}return r=>r===0||r===1?r:E(a(r),t,s)}export{Xe as a,Dt as b,Ct as c,et as d,de as e,It as f,tt as g,he as h,Tt as i,wt as j,Rt as k,Ye as l,jt as m,Et as n,V as o,ae as p,At as q,dt as r,kt as s,q as t,re as u,ht as v,_ as w};
